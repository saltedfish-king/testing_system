<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD mapper 3.0//EN " "http://mybatis.org/dtd/mybatis-3-mapper.dtd " >
<mapper namespace="com.swpu.dao.TeacherDao">
  
  <resultMap type="com.swpu.bean.Teacher" id="teacherMap">
  	<id property="id" column="id"/>
  	<result property="tName" column="tName"/>
  	<result property="topics" column="topics"/>
  	<result property="subject" column="subject"/>
  </resultMap>
  
  <!-- 通过id查询教师信息 -->
	<select id="getTeacher" parameterType="int" resultMap="teacherMap">
		select * from teacher where id=#{id}
	</select>
	
	<!-- 教师登录验证 -->
	<select id="teacherLogin" parameterType="com.swpu.bean.Teacher" resultMap="teacherMap">
		select * from teacher where id=#{teacher.getId()}
	</select>
  
  <!-- 添加题目 -->
  <insert id="insertTopic" parameterType="com.swpu.bean.Topic" useGeneratedKeys="true" keyProperty="id">
  	INSERT INTO topic (topicAnswer,topicMsg,topicLevel,topicKind,subjects,state) VALUE 
  	(#{topicAnswer},#{topicMsg},#{topicLevel},#{topicKind},#{subjects},#{state})
  </insert>
  
  <!-- 添加学生 -->
  <insert id="insertStu" parameterType="com.swpu.bean.Student" useGeneratedKeys="true" keyProperty="id">
  	INSERT INTO student (stuName,PASSWORD) VALUE (#{stuName},#{password})
  </insert>
</mapper>
